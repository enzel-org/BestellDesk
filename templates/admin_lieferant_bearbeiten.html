<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Lieferant bearbeiten</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
</head>
<body>
    <h1>Lieferant bearbeiten</h1>

    <form method="post">
        <label>Name:
            <input type="text" name="name" value="{{ lieferant.name }}" required>
        </label><br>

        <label>Versandkosten pro Person:
            <input type="number" step="0.01" name="versand" value="{{ lieferant.versand_pro_person }}" required>
        </label><br>

        <label>Speisekarte:</label><br>
        <input type="radio" name="menu_typ" value="link" {% if lieferant.menu_typ == 'link' %}checked{% endif %} onchange="toggleMenuInput()"> Link<br>
        <input type="radio" name="menu_typ" value="text" {% if lieferant.menu_typ == 'text' %}checked{% endif %} onchange="toggleMenuInput()"> Beschreibung<br>

        <input type="text" name="menu_info" id="menu_info_input"
               value="{{ lieferant.menu_info }}"
               placeholder="{{ 'https://example.com' if lieferant.menu_typ == 'link' else 'z. B. liegt im Büro' }}" required><br><br>

        <button type="submit">Speichern</button>
    </form>

    <br>
    <a href="{{ url_for('admin_lieferanten') }}">Zurück zur Liste</a>

    <script>
        function toggleMenuInput() {
            const type = document.querySelector('input[name="menu_typ"]:checked').value;
            const input = document.getElementById("menu_info_input");
            input.placeholder = type === "link" ? "https://example.com" : "z. B. liegt im Büro";
        }
    </script>
</body>
</html>
